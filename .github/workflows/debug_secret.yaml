name: Debug Secret Visibility
on: workflow_dispatch

jobs:
  debug_secrets:
    runs-on: ubuntu-latest
    steps:
      - name: Check Secret Existence
        env:
          MY_SECRET: ${{ secrets.IOS_GOOGLE_SERVICE_INFO_PLIST }}
        run: |
          echo "Checking secret status..."
          if [ -z "$MY_SECRET" ]; then
            echo "❌ ERROR: The secret 'IOS_GOOGLE_SERVICE_INFO_PLIST' is EMPTY or NOT FOUND."
            echo "Please check Settings > Secrets and variables > Actions > Repository Secrets."
          else
            echo "✅ SUCCESS: Secret detected! (Length: ${#MY_SECRET} characters)"
          fi
